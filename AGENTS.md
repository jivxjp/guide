# AGENTS.md

This file provides guidance to agents when working with code in this repository.

- Docs are served at site root: routeBasePath is set to "/" in [`docusaurus.config.js:48`]. Change this before deploying under a subpath.
- Build fails on broken links: onBrokenLinks="throw" (see [`docusaurus.config.js:33`]) — run link checks locally before CI.
- Category pages use generated-index via `_category_.json` in each section (e.g. [`docs/planning/_category_.json:1`]) — keep the file to control label/position.
- Files use numeric frontmatter `sidebar_position` to order items inside categories (e.g. [`docs/planning/getting-a-visa.md:2`]).
- The intro page is pinned to the site root using `slug: /` in [`docs/intro.md:3`] — don't remove it or homepage routing changes.
- Images used in components follow require('@site/static/...').default (see [`src/components/HomepageFeatures/index.js:8`]) — place images in `static/img`.
- Theme CSS is loaded from [`src/css/custom.css:1`] (configured in [`docusaurus.config.js:55`]); prefer edits there for global style.
- No test runner or lint scripts are configured in [`package.json:5`] — adding tests requires adding scripts and dependencies.
- Node >=18 required per [`package.json:41`]; CI must use that version.
- Sidebars are autogenerated from filesystem per [`sidebars.js:17`]; moving files changes sidebar automatically.
- future.v4 flag is enabled (see [`docusaurus.config.js:18`]) — expect some v4 compatibility behaviors.
- Edit links point to GitHub editUrl in [`docusaurus.config.js:51`] — ensure repo path matches docs location.
- When adding docs, use frontmatter only for Docusaurus-specific keys; unknown keys may be ignored or break parsing.
- Critical gotcha: broken markdown links or missing images will often surface as build errors due to throw/warn settings.